# Sleep & Suspend

- Sleep과 Suspend는 공통적으로 실행단위(Process 또는 Thread)를 대기 상태로 만듭니다.
- Sleep은 실행단위가 주체적으로 휴식을 취하는(대기 상태로 만드는) 것을 의미합니다.
- Sleep은 내가 지정한 N의 시간만큼 Sleep을 할 수 있지만 항상 시간이 보장되지 않습니다.
- 이유는 OS는 실행단위를 N의 시간만큼 대기 시킨 뒤 준비 상태가 된 실행단위를 CPU를 취하는 경쟁상태로 만드는데 이때 실행단위가 CPU를 차지하는데 걸리는 시간 M이 생길 수 있습니다. 따라서 N + M의 시간이 걸린다고 볼 수 있습니다.
- Suspend는 외부의 요인에 의해서 보류된 상태를 의미합니다.
- Suspend의 대표적인 상황은 대기가 길게 지속되어 RAM에 있던 데이터를 HDD로 Swap하는 경우와 프로그램이 이상 연산을 일으켜 오작동한 경우가 있습니다.
- 실행단위가 CPU에 의해서 실행(연산)되면 계속해서 상태의 변화가 일어납니다. 이러한 변화를 저장하는 곳이 Register입니다.
- Sleep 또는 Suspend는 연산의 흐름이 진행 중에 일시정지하는 것을 의미하고 다시 준비 상태가 되어 연산의 흐름에 복귀하여 이어서 진행합니다. 이 때, 연산의 흐름을 의미하는 것이 문맥 또는 Context이고 이러한 흐름이 계속해서 변화되는 것을 Context Switching이라고 합니다.
- 이런 Context Switching이 일어날 때, Process PCB에 문맥을 이어가기 위한 상태를 저장하고 Thread는 TCB에 저장합니다.
